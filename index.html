<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MotoService - Сервис мотоциклов и квадроциклов</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Анимации */
        @keyframes slideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideInDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
            40%, 43% { transform: translate3d(0, -10px, 0); }
            70% { transform: translate3d(0, -5px, 0); }
            90% { transform: translate3d(0, -2px, 0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slideInUp 0.5s ease-out; }
        .animate-slide-down { animation: slideInDown 0.5s ease-out; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        .animate-scale-in { animation: scaleIn 0.3s ease-out; }
        .animate-bounce-custom { animation: bounce 1s; }
        .animate-pulse-custom { animation: pulse 2s infinite; }
        .animate-shake { animation: shake 0.5s; }
        
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .button-press {
            transition: transform 0.1s ease;
        }
        
        .button-press:active {
            transform: scale(0.95);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .loading-dots::after {
            content: '';
            animation: dots 1.5s infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { createClient } = window.supabase;
        const { useState, useEffect } = React;
        
        // ВАЖНО: Замените на ваши реальные ключи!
        const supabaseUrl = 'https://texmkfeivjohgjydsrbf.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRleG1rZmVpdmpvaGdqeWRzcmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3Njk0MzUsImV4cCI6MjA2NjM0NTQzNX0.Obn57enzqPd5IdGkSsjfVhZOB_xTbn3BLxOHOfuLP1w';
        const supabase = createClient(supabaseUrl, supabaseKey);

        // Заглушка для hatch объекта
        const hatch = {
          useStoredState: (key, defaultValue) => {
            const [value, setValue] = useState(() => {
              try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : defaultValue;
              } catch {
                return defaultValue;
              }
            });

            useEffect(() => {
              localStorage.setItem(key, JSON.stringify(value));
            }, [key, value]);

            return [value, setValue];
          }
        };

        const MotoServiceApp = () => {
          const [currentScreen, setCurrentScreen] = useState('login');
          const [userType, setUserType] = useState('client');
          const [darkMode, setDarkMode] = useState(false);
          const [language, setLanguage] = useState('ru');
          const [showHint, setShowHint] = useState('');
          const [currentUser, setCurrentUser] = hatch.useStoredState('currentUser', null);
          const [bookings, setBookings] = useState([]);
          const [users, setUsers] = useState([]);
          const [loading, setLoading] = useState(false);
          const [screenTransition, setScreenTransition] = useState(false);
          const [priceList, setPriceList] = hatch.useStoredState('priceList', [
            { id: 1, category: 'Тюнинг', service: 'Установка стоп-сигнала', price: 300 },
            { id: 2, category: 'Тюнинг', service: 'Защита рук установка', price: 700 },
            { id: 3, category: 'Тюнинг', service: 'Счетчик мотоцасов установка', price: 600 },
            { id: 4, category: 'Тюнинг', service: 'Трубки для спиц установка (1 колесо)', price: 300 },
            { id: 5, category: 'Тюнинг', service: 'Чехлы вилки установка', price: 300 },
            { id: 6, category: 'Тюнинг', service: 'Чехол амортизатора установка', price: 200 },
            { id: 7, category: 'Тюнинг', service: 'Наклеивание пленки', price: 500 },
            { id: 8, category: 'Тюнинг', service: 'Графика замена', price: 700 },
            { id: 9, category: 'Выхлопная система', service: 'Глушитель ремонт', price: 500 },
            { id: 10, category: 'Выхлопная система', service: 'Защита двигателя установка', price: 300 },
            { id: 11, category: 'Выхлопная система', service: 'Маятник замена подшипников', price: 1000 },
            { id: 12, category: 'Выхлопная система', service: 'Траверсы в сборе замена', price: 1500 },
            { id: 13, category: 'Топливная система', service: 'Карбюратор регулировка', price: 600 },
            { id: 14, category: 'Топливная система', service: 'Карбюратор чистка', price: 300 },
            { id: 15, category: 'Топливная система', service: 'Кран топливный замена', price: 300 },
            { id: 16, category: 'Топливная система', service: 'Фильтр воздушный обслуживание', price: 200 },
            { id: 17, category: 'Топливная система', service: 'Фильтр воздушный замена', price: 100 },
            { id: 18, category: 'Электрооборудование', service: 'Аккумулятор проверка заряда', price: 100 },
            { id: 19, category: 'Электрооборудование', service: 'Жгут проводки замена', price: 600 },
            { id: 20, category: 'Электрооборудование', service: 'Замена ламп головного света и габаритов', price: 300 },
            { id: 21, category: 'Электрооборудование', service: 'Замок зажигания замена', price: 200 },
            { id: 22, category: 'Электрооборудование', service: 'Катушка зажигания замена', price: 300 },
            { id: 23, category: 'Электрооборудование', service: 'Кнопка стоп/пуск замена', price: 200 },
            { id: 24, category: 'Электрооборудование', service: 'Коммутатор замена', price: 200 },
            { id: 25, category: 'Электрооборудование', service: 'Предохранитель замена', price: 100 },
            { id: 26, category: 'Электрооборудование', service: 'Фара замена', price: 300 },
            { id: 27, category: 'Ходовая часть', service: 'Переборка передней вилки', price: 2000 },
            { id: 28, category: 'Ходовая часть', service: 'Амортизатор задний снятие-установка', price: 500 },
            { id: 29, category: 'Ходовая часть', service: 'Амортизатор задний подкачка', price: 100 },
            { id: 30, category: 'Ходовая часть', service: 'Регулировка подвески', price: 500 },
            { id: 31, category: 'Ходовая часть', service: 'Прогрессия переборка', price: 1000 },
            { id: 32, category: 'Ходовая часть', service: 'Замена подшипников рулевой колонки', price: 1000 },
            { id: 33, category: 'Ходовая часть', service: 'Замена подшипников переднего колеса (смазка)', price: 500 },
            { id: 34, category: 'Ходовая часть', service: 'Замена подшипников заднего колеса (смазка)', price: 500 },
            { id: 35, category: 'Ходовая часть', service: 'Протяжка спиц колеса', price: 500 },
            { id: 36, category: 'Трансмиссия/привод', service: 'Цепь приводная чистка', price: 400 },
            { id: 37, category: 'Трансмиссия/привод', service: 'Цепь приводная регулировка', price: 100 },
            { id: 38, category: 'Трансмиссия/привод', service: 'Цепь приводная смазка', price: 150 },
            { id: 39, category: 'Трансмиссия/привод', service: 'Звезда ведомая замена', price: 200 },
            { id: 40, category: 'Трансмиссия/привод', service: 'Звезда ведущая замена', price: 100 },
            { id: 41, category: 'Трансмиссия/привод', service: 'Ловушка цепи замена', price: 100 },
            { id: 42, category: 'Трансмиссия/привод', service: 'Ролик цепи замена', price: 100 },
            { id: 43, category: 'Трансмиссия/привод', service: 'Слайдер цепи замена', price: 100 },
            { id: 44, category: 'Двигатель', service: 'Переборка ГБЦ', price: 2000 },
            { id: 45, category: 'Двигатель', service: 'Расточка ГБЦ', price: 2000 },
            { id: 46, category: 'Двигатель', service: 'Регулировка зазоров клапанов', price: 300 },
            { id: 47, category: 'Двигатель', service: 'Замена масла в ДВС + фильтр', price: 300 },
            { id: 48, category: 'Двигатель', service: 'Корзина сцепления переборка (замена дисков)', price: 1000 },
            { id: 49, category: 'Двигатель', service: 'Обгонная муфта замена', price: 500 },
            { id: 50, category: 'Двигатель', service: 'Переборка двигателя', price: 1500 },
            { id: 51, category: 'Двигатель', service: 'Генератор замена', price: 500 },
            { id: 52, category: 'Двигатель', service: 'Сальник генератора замена', price: 500 },
            { id: 53, category: 'Двигатель', service: 'ЦПГ замена', price: 1000 },
            { id: 54, category: 'Диагностика и обслуживание', service: 'Протяжка техники', price: 1500 },
            { id: 55, category: 'Диагностика и обслуживание', service: 'Комплексное ТО', price: 3000 },
          ]);
          const [issuePatterns, setIssuePatterns] = hatch.useStoredState('issuePatterns', {
            'wheel': 'Easy',
            'brake': 'Medium',
            'engine': 'Hard',
            'oil': 'Easy'
          });

          const translations = {
            ru: {
              login: 'Войти',
              register: 'Регистрация',
              phone: 'Телефон',
              password: 'Пароль',
              fullName: 'Полное имя',
              socialHandle: 'Telegram/VK ник',
              bookService: 'Записаться на сервис',
              priceList: 'Прайс-лист',
              dashboard: 'Панель управления',
              logout: 'Выйти',
              vehicleType: 'Тип транспорта',
              motorcycle: 'Мотоцикл',
              quad: 'Квадроцикл',
              issueDescription: 'Описание проблемы',
              preferredDate: 'Желаемая дата',
              isUrgent: 'Срочный ремонт (+500 руб)',
              submit: 'Отправить',
              edit: 'Редактировать',
              delete: 'Удалить',
              block: 'Заблокировать',
              unblock: 'Разблокировать',
              difficulty: 'Сложность',
              easy: 'Легко',
              medium: 'Средне',
              hard: 'Сложно',
              laborCost: 'Стоимость работ',
              partsCost: 'Стоимость запчастей',
              totalCost: 'Общая стоимость',
              clientSide: 'Клиентская часть',
              adminSide: 'Админ панель',
              myBookings: 'Мои заказы',
              bookingStatus: 'Статус заказа',
              pending: 'В обработке',
              confirmed: 'Подтверждён',
              rejected: 'Отклонён',
              completed: 'Выполнен',
              confirm: 'Подтвердить',
              reject: 'Отклонить',
              finalCost: 'Итоговая стоимость',
              bookingDetails: 'Детали заказа',
              userBlocked: 'Пользователь заблокирован',
              clickHint: 'Нажмите здесь',
              fillAllFields: 'Заполните все поля',
              chooseVehicle: 'Выберите тип транспорта',
              enterDescription: 'Опишите проблему',
              selectDate: 'Выберите дату и время',
              bookingSubmitted: 'Заказ успешно отправлен!',
              bookingConfirmed: 'Заказ подтверждён',
              bookingRejected: 'Заказ отклонён',
              userBlockedMessage: 'Пользователь заблокирован',
              userUnblockedMessage: 'Пользователь разблокирован'
            }
          };

          const t = (key) => translations[language][key] || key;

          // Функция для переключения экранов с анимацией
          const switchScreen = (screen) => {
            setScreenTransition(true);
            setTimeout(() => {
              setCurrentScreen(screen);
              setScreenTransition(false);
            }, 200);
          };

          // Функции для работы с базой данных
          const loadUsers = async () => {
            try {
              const { data, error } = await supabase
                .from('users')
                .select('*');
              if (error) throw error;
              setUsers(data || []);
            } catch (error) {
              console.error('Ошибка загрузки пользователей:', error);
            }
          };

          const loadBookings = async () => {
            try {
              const { data, error } = await supabase
                .from('bookings')
                .select('*')
                .order('created_at', { ascending: false });
              if (error) throw error;
              setBookings(data || []);
            } catch (error) {
              console.error('Ошибка загрузки заказов:', error);
            }
          };

          const saveUser = async (userData) => {
            try {
              const { data, error } = await supabase
                .from('users')
                .insert([{
                  full_name: userData.fullName,
                  phone: userData.phone,
                  social_handle: userData.socialHandle || '',
                  user_type: userData.type,
                  is_blocked: userData.isBlocked || false,
                  password: userData.password || '123456'
                }])
                .select()
                .single();
              if (error) throw error;
              await loadUsers();
              return data;
            } catch (error) {
              console.error('Ошибка сохранения пользователя:', error);
              return null;
            }
          };

          const saveBooking = async (bookingData) => {
            try {
              const { data, error } = await supabase
                .from('bookings')
                .insert([{
                  user_id: bookingData.userId,
                  user_name: bookingData.userName,
                  user_phone: bookingData.userPhone,
                  vehicle_type: bookingData.vehicleType,
                  issue_description: bookingData.issueDescription,
                  preferred_date: bookingData.preferredDate,
                  is_urgent: bookingData.isUrgent,
                  difficulty: bookingData.difficulty,
                  labor_cost: bookingData.laborCost || 0,
                  parts_cost: bookingData.partsCost || 0,
                  status: bookingData.status || 'pending'
                }])
                .select()
                .single();
              if (error) throw error;
              await loadBookings();
              return data;
            } catch (error) {
              console.error('Ошибка сохранения заказа:', error);
              return null;
            }
          };

          const updateBookingInDB = async (bookingId, updates) => {
            try {
              const { error } = await supabase
                .from('bookings')
                .update({
                  status: updates.status,
                  difficulty: updates.difficulty,
                  labor_cost: updates.laborCost,
                  parts_cost: updates.partsCost
                })
                .eq('id', bookingId);
              if (error) throw error;
              await loadBookings();
            } catch (error) {
              console.error('Ошибка обновления заказа:', error);
            }
          };

          const deleteBookingFromDB = async (bookingId) => {
            try {
              const { error } = await supabase
                .from('bookings')
                .delete()
                .eq('id', bookingId);
              if (error) throw error;
              await loadBookings();
            } catch (error) {
              console.error('Ошибка удаления заказа:', error);
            }
          };

          const updateUserInDB = async (userId, updates) => {
            try {
              const { error } = await supabase
                .from('users')
                .update({ is_blocked: updates.isBlocked })
                .eq('id', userId);
              if (error) throw error;
              await loadUsers();
            } catch (error) {
              console.error('Ошибка обновления пользователя:', error);
            }
          };

          // Загружаем данные при загрузке компонента
          useEffect(() => {
            loadUsers();
            loadBookings();
          }, []);

          const showAnimatedHint = (hintKey) => {
            setShowHint(hintKey);
            setTimeout(() => setShowHint(''), 3000);
          };

          const predictDifficulty = (description) => {
            const desc = description.toLowerCase();
            for (const [pattern, difficulty] of Object.entries(issuePatterns)) {
              if (desc.includes(pattern)) {
                return difficulty;
              }
            }
            return 'Medium';
          };

          const LoginScreen = () => {
            const [phone, setPhone] = useState('');
            const [password, setPassword] = useState('');
            const [isRegister, setIsRegister] = useState(false);
            const [fullName, setFullName] = useState('');
            const [socialHandle, setSocialHandle] = useState('');
            const [error, setError] = useState('');

            const handleAuth = async () => {
              setError('');
              setLoading(true);

              // Валидация
              if (!phone || !password || (isRegister && !fullName)) {
                setError('Заполните все поля');
                setLoading(false);
                return;
              }

              if (isRegister) {
                // Проверяем, нет ли уже такого пользователя
                const existingUser = users.find(u => u.phone === phone);
                if (existingUser) {
                  setError('Пользователь с таким номером уже существует');
                  setLoading(false);
                  return;
                }

                const newUser = await saveUser({
                  fullName,
                  phone,
                  socialHandle,
                  type: userType,
                  isBlocked: false,
                  password: password
                });
                if (newUser) {
                  setCurrentUser({
                    id: newUser.id,
                    fullName: newUser.full_name,
                    phone: newUser.phone,
                    socialHandle: newUser.social_handle,
                    type: newUser.user_type
                  });
                  switchScreen(userType === 'admin' ? 'dashboard' : 'booking');
                } else {
                  setError('Ошибка регистрации');
                }
              } else {
                // Авторизация
                if (userType === 'admin') {
                  // Проверяем админские права в базе данных
                  const adminUser = users.find(u => u.phone === phone && u.user_type === 'admin');
                  if (!adminUser) {
                    setError('У вас нет прав администратора');
                    setLoading(false);
                    return;
                  }
                  if (adminUser.is_blocked) {
                    setError(t('userBlocked'));
                    setLoading(false);
                    return;
                  }
                  // Проверяем пароль
                  if (adminUser.password !== password) {
                    setError('Неверный пароль');
                    setLoading(false);
                    return;
                  }
                  setCurrentUser({
                    id: adminUser.id,
                    fullName: adminUser.full_name,
                    phone: adminUser.phone,
                    socialHandle: adminUser.social_handle,
                    type: adminUser.user_type
                  });
                  switchScreen('dashboard');
                } else {
                  // Обычный пользователь
                  const existingUser = users.find(u => u.phone === phone && u.user_type === 'client');
                  if (!existingUser) {
                    setError('Пользователь не найден');
                    setLoading(false);
                    return;
                  }
                  if (existingUser.is_blocked) {
                    setError(t('userBlocked'));
                    setLoading(false);
                    return;
                  }
                  if (existingUser.password !== password) {
                    setError('Неверный пароль');
                    setLoading(false);
                    return;
                  }
                  setCurrentUser({
                    id: existingUser.id,
                    fullName: existingUser.full_name,
                    phone: existingUser.phone,
                    socialHandle: existingUser.social_handle,
                    type: existingUser.user_type
                  });
                  switchScreen('booking');
                }
              }
              setLoading(false);
            };

            return React.createElement("div", {
              className: `min-h-screen transition-all duration-500 ${darkMode ? 'bg-gradient-to-br from-gray-900 to-blue-900 text-white' : 'bg-gradient-to-br from-blue-50 to-indigo-100 text-gray-900'} ${screenTransition ? 'opacity-0' : 'opacity-100'}`
            }, 
              React.createElement("div", { className: "p-6 animate-slide-down" },
                React.createElement("div", { className: "flex justify-between items-center mb-8" },
                  React.createElement("h1", { className: "text-3xl font-bold animate-bounce-custom" }, "🏍️ MotoService"),
                  React.createElement("div", { className: "flex gap-2" },
                    React.createElement("button", {
                      onClick: () => setDarkMode(!darkMode),
                      className: "px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm text-sm hover-lift button-press transition-all duration-300"
                    }, darkMode ? '☀️' : '🌙')
                  )
                ),
                React.createElement("div", { className: "max-w-sm mx-auto animate-slide-up" },
                  React.createElement("div", { className: "flex mb-6 bg-white/20 backdrop-blur-sm rounded-xl p-1" },
                    React.createElement("button", {
                      onClick: () => setUserType('client'),
                      className: `flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-300 button-press ${
                        userType === 'client' 
                          ? 'bg-white text-blue-600 shadow-lg transform scale-105' 
                          : 'text-white/70 hover:text-white'
                      }`
                    }, "👤 " + t('clientSide')),
                    React.createElement("button", {
                      onClick: () => setUserType('admin'),
                      className: `flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-300 button-press ${
                        userType === 'admin' 
                          ? 'bg-white text-blue-600 shadow-lg transform scale-105' 
                          : 'text-white/70 hover:text-white'
                      }`
                    }, "⚙️ " + t('adminSide'))
                  ),
                  React.createElement("div", { className: `rounded-2xl p-6 backdrop-blur-sm shadow-2xl hover-lift ${darkMode ? 'bg-gray-800/90' : 'bg-white/90'}` },
                    React.createElement("h2", { className: "text-xl font-semibold mb-6 text-center animate-fade-in" },
                      isRegister ? "📝 " + t('register') : "🔐 " + t('login')
                    ),

                      ...(isRegister ? [
                        React.createElement("input", {
                          key: "fullName",
                          type: "text",
                          placeholder: "👤 " + t('fullName'),
                          value: fullName,
                          onChange: (e) => setFullName(e.target.value),
                          className: `w-full p-4 rounded-xl mb-4 border-0 shadow-lg transition-all duration-300 focus:shadow-xl focus:scale-105 ${darkMode ? 'bg-gray-700/50 backdrop-blur-sm text-white placeholder-gray-300' : 'bg-white/80 backdrop-blur-sm placeholder-gray-500'} focus:outline-none focus:ring-2 focus:ring-blue-500`
                        }),
                        React.createElement("input", {
                          key: "socialHandle",
                          type: "text",
                          placeholder: "💬 " + t('socialHandle') + " (@username)",
                          value: socialHandle,
                          onChange: (e) => setSocialHandle(e.target.value),
                          className: `w-full p-4 rounded-xl mb-4 border-0 shadow-lg transition-all duration-300 focus:shadow-xl focus:scale-105 ${darkMode ? 'bg-gray-700/50 backdrop-blur-sm text-white placeholder-gray-300' : 'bg-white/80 backdrop-blur-sm placeholder-gray-500'} focus:outline-none focus:ring-2 focus:ring-blue-500`
                        })
                      ] : [])
,
                    React.createElement("input", {
                      type: "tel",
                      placeholder: "📱 " + t('phone'),
                      value: phone,
                      onChange: (e) => setPhone(e.target.value),
                      className: `w-full p-4 rounded-xl mb-4 border-0 shadow-lg transition-all duration-300 focus:shadow-xl focus:scale-105 ${darkMode ? 'bg-gray-700/50 backdrop-blur-sm text-white placeholder-gray-300' : 'bg-white/80 backdrop-blur-sm placeholder-gray-500'} focus:outline-none focus:ring-2 focus:ring-blue-500`
                    }),
                    React.createElement("input", {
                      type: "password",
                      placeholder: "🔒 " + t('password'),
                      value: password,
                      onChange: (e) => setPassword(e.target.value),
                      className: `w-full p-4 rounded-xl mb-6 border-0 shadow-lg transition-all duration-300 focus:shadow-xl focus:scale-105 ${darkMode ? 'bg-gray-700/50 backdrop-blur-sm text-white placeholder-gray-300' : 'bg-white/80 backdrop-blur-sm placeholder-gray-500'} focus:outline-none focus:ring-2 focus:ring-blue-500`
                    }),
                    error && React.createElement("div", {
                      className: "mb-4 p-4 bg-red-500/20 backdrop-blur-sm border border-red-300/50 rounded-xl text-red-200 text-sm animate-shake"
                    }, "⚠️ " + error),
                    React.createElement("button", {
                      onClick: handleAuth,
                      disabled: loading,
                      className: "w-full gradient-bg text-white py-4 rounded-xl font-semibold hover-lift button-press transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50"
                    }, loading ? React.createElement("span", { className: "loading-dots" }, "Загрузка") : 
                       isRegister ? "✨ " + t('register') : "🚀 " + t('login')
                    ),
                    React.createElement("p", { className: "text-center mt-4 text-sm" },
                      isRegister ? "Уже есть аккаунт?" : "Нет аккаунта?",
                      React.createElement("button", {
                        onClick: () => {
                          setIsRegister(!isRegister);
                          setError('');
                        },
                        className: "text-blue-400 ml-1 font-medium hover:underline transition-all duration-300"
                      }, isRegister ? t('login') : t('register'))
                    ),
                    userType === 'admin' && !isRegister && React.createElement("div", {
                      className: "text-xs text-gray-400 mt-4 text-center animate-pulse-custom"
                    },
                      React.createElement("p", {}, "⚡ Права администратора выдаются"),
                      React.createElement("p", {}, "через панель управления Supabase")
                    )
                  )
                )
              )
            );
          };

          // Остальные компоненты (BookingScreen, MyBookingsScreen, PriceListScreen, AdminDashboard) 
          // здесь нужно преобразовать JSX в React.createElement...
          
          const renderScreen = () => {
            if (!currentUser) return React.createElement(LoginScreen);
            
            switch (currentScreen) {
              case 'booking':
                return React.createElement("div", { className: "p-6" }, "Booking Screen (в разработке)");
              case 'myBookings':
                return React.createElement("div", { className: "p-6" }, "My Bookings Screen (в разработке)");
              case 'priceList':
                return React.createElement("div", { className: "p-6" }, "Price List Screen (в разработке)");
              case 'dashboard':
                return React.createElement("div", { className: "p-6" }, "Admin Dashboard (в разработке)");
              default:
                return React.createElement(LoginScreen);
            }
          };

          return React.createElement("div", { className: "max-w-md mx-auto min-h-screen" }, renderScreen());
        };

        ReactDOM.render(React.createElement(MotoServiceApp), document.getElementById('root'));
    </script>
</body>
</html>
